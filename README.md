<br>

---

<h2 align="center">🛴 Smart Kickboard</h2>

<p align="center">
  <a href="https://lopsided-tray-d39.notion.site/20e04872d73a808ea356ea7a39253cc3">NOTION</a>
</p>


### 1. 프로젝트 개요 (Overview)
공유 킥보드 시장의 급격한 성장과 함께 관련 사고 건수도 급증하고 있습니다. 본 프로젝트는 **헬멧 미착용, 2인 이상 탑승** 등 주요 사고 원인을 사전에 감지하고 **모터 제어, 경고 시스템**을 통해 탑승자의 안전을 확보하는 **임베디드 안전 시스템**을 구축하는 것을 목표로 합니다.

<br>

### 2. 주요 기능 (Key Features)
-   **⛑️ 헬멧 착용 감지 및 시동 제어**: 헬멧 거치대의 압력센서로 착용 여부를 감지하여, 미착용 시 시동을 차단합니다.
-   **⚖️ 2인 이상 탑승 감지 및 속도 제한**: 발판의 로드셀(압력센서)로 무게를 실시간 측정하여, 2인 탑승(기준: 100kg 이상)으로 판단되면 모터 출력을 **25%**로 감속합니다.
-   **⚠️ 주행 중 헬멧 탈착 감지**: 주행 중 헬멧을 벗으면 이를 감지하여 모터 출력을 **50%**로 제어하고 경고를 보냅니다.
-   **🚨 후방 차량 근접 경고**: 후방의 라이다(Lidar) 센서가 **3m 이내** 차량을 감지하면 부저로 경고음을 발생시켜 충돌 위험을 예방합니다.
-   **📱 스마트폰 앱 연동**: 블루투스 통신을 통해 킥보드의 상태(헬멧, 탑승 인원, 후방 거리)를 실시간으로 앱에 표시하고, 위험 상황 시 시각적 경고를 전달합니다.

<br>

### 3. 개발 환경 및 기술 스택 (Tech Stack)
-   **MCU**: Arduino
-   **Sensors**: Piezoresistive 압력센서, Lidar 거리 측정 센서, HX711 Load Cell Amplifier
-   **Actuator**: DC Motor
-   **Communication**: Bluetooth (HC-05)
-   **S/W**: `Arduino IDE (C++)`, `MIT App Inventor`

<br>

### 4. 시스템 구성도 (System Architecture)

| 회로도 (Circuit Schematic) | 동작 흐름도 (Flow Chart) |
| :---: | :---: |
| <img src="https://github.com/user-attachments/assets/51551065-a81d-40e9-a681-42345e60805c" alt="Circuit Schematic" width="400"/> | <img src="https://github.com/user-attachments/assets/5e730045-8c70-4293-875f-2b36a111a938" alt="Flow Chart" width="400"/> |

<br>

### 5. 시연 영상 (Demonstration)
| 2인 탑승 감지 | 헬멧 착용 감지 | 종합 테스트 |
| :---: | :---: | :---: |
| [▶️ Watch Video](링크_입력) | [▶️ Watch Video](링크_입력) | [▶️ Watch Video](링크_입력) |

*(각 `링크_입력` 부분에 실제 영상 링크를 넣어주세요.)*

<br>

### 6. 고찰 및 문제 해결 과정 (Troubleshooting)
-   **`문제` 3D 프린터 출력 크기 한계**
    -   **`해결`** 대형 회로 박스를 제작하기 위해, **아크릴을 직접 재단**하여 조립하는 방식으로 변경하여 문제를 해결했습니다.

-   **`문제` 모터 구동 및 블루투스 통신 끊김**
    -   **`원인`** 다수 부품(모터, 센서, 블루투스)의 누적 전력 소모량이 9V 배터리의 공급량을 초과하는 것을 확인했습니다.
    -   **`해결`** 전원을 **10,000mAh 대용량 리튬 배터리**로 교체하여 시스템에 안정적인 전력을 공급했습니다.

-   **`문제` 압력센서 값의 비정상적인 튐 현상**
    -   **`원인`** 라이터로 피복을 제거한 연장선의 내부 도선 손상으로 인한 노이즈 발생을 발견했습니다.
    -   **`해결`** **스트리퍼**를 사용해 피복을 깔끔하게 제거한 연장선으로 교체하여 노이즈를 제거하고 안정적인 센서 값을 확보했습니다.

-   **`문제` 2인 탑승 감지 기준의 모호성**
    -   **`해결`** 카메라, 조도 센서 등 여러 대안을 검토했으나 예산과 기술적 한계를 고려하여, **압력센서 기반 무게 측정** 방식을 채택했습니다. 성인 평균 체중을 참고해 **100kg 초과 시 2인 탑승**으로 판단하는 현실적인 기준을 적용했습니다.
